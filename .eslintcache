[{"/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Items/index.js":"1","/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Item/ReviewForm.js":"2","/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Item/Item.js":"3","/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Hero/index.js":"4","/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Items/ItemsElement.js":"5","/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Navbar/index.js":"6","/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Navbar/NavbarElements.js":"7","/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Hero/HeroElements.js":"8","/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Sidebar/SidebarElements.js":"9"},{"size":1231,"mtime":1608011668460,"results":"10","hashOfConfig":"11"},{"size":1112,"mtime":1608338703836,"results":"12","hashOfConfig":"11"},{"size":3391,"mtime":1608345253920,"results":"13","hashOfConfig":"11"},{"size":834,"mtime":1610040631292,"results":"14","hashOfConfig":"11"},{"size":2662,"mtime":1608242899942,"results":"15","hashOfConfig":"11"},{"size":454,"mtime":1610039466304,"results":"16","hashOfConfig":"11"},{"size":1393,"mtime":1610040141813,"results":"17","hashOfConfig":"11"},{"size":1624,"mtime":1610040573725,"results":"18","hashOfConfig":"11"},{"size":1859,"mtime":1610043970174,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"i7yzbp",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Items/index.js",[],"/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Item/ReviewForm.js",[],"/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Item/Item.js",["41"],"import React, { useState, useEffect, Fragment } from 'react'\nimport axios from 'axios'\nimport Header from './Header'\nimport ReviewForm from './ReviewForm'\nimport { Wrapper, Column, Main, Reviews } from './ItemElements'\n\nconst Item = (props) => {\n    const [item, setItem] = useState({})\n    const [review, setReview] = useState({})\n    const [loaded, setLoaded] = useState(false)\n    const [form, setForm] = useState({\n        title: \"\",\n        description: \"\"\n    })\n\n    useEffect(() => {\n        const slug = props.match.params.slug;\n\n        //api request\n        axios.get(`https://safari-resturaunt-boston.herokuapp.com/api/v1/items/${slug}`)\n            .then(res => {\n                setItem(res.data.data)\n                setReview(res.data.included)\n                // setLoaded(true) //once true we can load in the header component\n                setLoaded(true)\n\n            })\n            .catch(res => console.log(res))\n    }, [])\n\n    const handleChange = (e) => {\n        e.preventDefault();\n\n        // console.log('name:', e.target.name, 'value:', e.target.value) //use this to update review in our state\n        setForm({ ...form, [e.target.name]: e.target.value })\n        // const l = { ...review, [e.target.name]: e.target.value }\n        console.log('review:', form)\n    }\n\n    const handleSubmit = (e) => {\n        // e.preventDefault();\n        // setReview({ [e.target.name]: e.target.value })\n        // const l = { ...review, [e.target.name]: e.target.value }\n        console.log('review:', review)\n\n        // const item = item.id\n        axios.post('http://localhost:3000/api/v1/reviews', { ...form, item: item.id })\n            .then(resp => {\n                console.log(resp)\n                setForm({\n                    title: \"\",\n                    description: \"\"\n                })\n            })\n            .catch(res => {\n                console.log(res)\n            })\n\n        // for (let i = 0; i < review.length; i++) {\n        //     var oneReview = review[i].attributes\n        // }\n    }\n    //when user submits the handle submit will be triggered and the review and item will be packaged and submited to the api \n    // const csrfToken = document.querySelector('[name=csrf-token]').content\n    // axios.defaults.headers.common['X-CSRF-TOKEN'] = csrfToken\n\n\n\n    // console.log(oneReview.title)\n    return (\n        <Wrapper>\n            {\n                loaded &&  //essentially this is a check to make sure we made our api request and now we have the data we want to pass down to our header component\n                <Fragment>\n                    <Column>\n                        <Main>\n                            <Header\n                                attributes={item.attributes}\n                                reviews={item.included}\n                            />\n                            <Reviews>\n                            </Reviews>\n                        </Main>\n                    </Column>\n\n                    <Column>\n                        <ReviewForm\n                            handleChange={handleChange}\n                            handleSubmit={handleSubmit}\n                            attributes={item.attributes}\n                            review={form}\n                        />\n                    </Column>\n                </Fragment>\n            }\n        </Wrapper>\n\n    )\n}\n\nexport default Item\n\n",["42","43"],"/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Hero/index.js",[],"/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Items/ItemsElement.js",[],["44","45"],"/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Navbar/index.js",[],"/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Navbar/NavbarElements.js",[],"/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Hero/HeroElements.js",[],"/Users/anur/Desktop/ayninur.github.io/safari-frontend/src/components/Sidebar/SidebarElements.js",[],{"ruleId":"46","severity":1,"message":"47","line":29,"column":8,"nodeType":"48","endLine":29,"endColumn":10,"suggestions":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","replacedBy":"53"},{"ruleId":"50","replacedBy":"54"},{"ruleId":"52","replacedBy":"55"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.match.params.slug'. Either include it or remove the dependency array.","ArrayExpression",["56"],"no-native-reassign",["57"],"no-negated-in-lhs",["58"],["57"],["58"],{"desc":"59","fix":"60"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [props.match.params.slug]",{"range":"61","text":"62"},[943,945],"[props.match.params.slug]"]